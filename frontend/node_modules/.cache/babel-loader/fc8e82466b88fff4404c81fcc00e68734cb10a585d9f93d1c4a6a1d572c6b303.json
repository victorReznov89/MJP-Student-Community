{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{Row,Col,ListGroup,Image,Form,Button,Card}from'react-bootstrap';import Message from'../components/Message';import{addToCart,removeFromCart}from'../actions/cartActions';var CartScreen=function CartScreen(_ref){var match=_ref.match,location=_ref.location,history=_ref.history;var productId=match.params.id;var qty=location.search?Number(location.search.split('=')[1]):1;var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;useEffect(function(){if(productId){dispatch(addToCart(productId,qty));}},[dispatch,productId,qty]);var removeFromCartHandler=function removeFromCartHandler(id){dispatch(removeFromCart(id));};var checkoutHandler=function checkoutHandler(){history.push('/login?redirect=shipping');};return/*#__PURE__*/React.createElement(Row,null,cartItems.length===0?/*#__PURE__*/ // <Message>\n//   No liked items <Link to='/'>Go Back</Link>\n// </Message>\nReact.createElement(ListGroup,null,/*#__PURE__*/React.createElement(\"h1\",null,\"No liked items\"),/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Go Back\"))// <Row>\n//   <Col md={60}>\n//   <Message>\n//     No liked items \n//   </Message>\n//   </Col>\n// </Row>\n:/*#__PURE__*/React.createElement(ListGroup,{variant:\"flush\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Items you liked\"),cartItems.map(function(item){return/*#__PURE__*/React.createElement(ListGroup.Item,{key:item.product},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(item.product)},item.name)),/*#__PURE__*/React.createElement(Col,{md:2},\"Contact : \",item.contact),/*#__PURE__*/React.createElement(Col,{md:3},\"Status : \",item.countInStock===0?/*#__PURE__*/React.createElement(\"span\",null,\"Unavailable\"):/*#__PURE__*/React.createElement(\"span\",null,\"Available\")),/*#__PURE__*/React.createElement(Col,{md:2},/*#__PURE__*/React.createElement(Button,{type:\"button\",variant:\"light\",onClick:function onClick(){return removeFromCartHandler(item.product);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash fa-2x\"})))));})));};export default CartScreen;","map":{"version":3,"names":["React","useEffect","Link","useDispatch","useSelector","Row","Col","ListGroup","Image","Form","Button","Card","Message","addToCart","removeFromCart","CartScreen","match","location","history","productId","params","id","qty","search","Number","split","dispatch","cart","state","cartItems","removeFromCartHandler","checkoutHandler","push","length","map","item","product","image","name","contact","countInStock"],"sources":["J:/Ayan_project/00_final_year project - Copy/proshop_mern-master/proshop_mern-master/frontend/src/screens/CartScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap'\nimport Message from '../components/Message'\nimport { addToCart, removeFromCart } from '../actions/cartActions'\n\nconst CartScreen = ({ match, location, history }) => {\n  const productId = match.params.id\n\n  const qty = location.search ? Number(location.search.split('=')[1]) : 1\n\n  const dispatch = useDispatch()\n\n  const cart = useSelector((state) => state.cart)\n  const { cartItems } = cart\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty))\n    }\n  }, [dispatch, productId, qty])\n\n  const removeFromCartHandler = (id) => {\n    dispatch(removeFromCart(id))\n  }\n\n  const checkoutHandler = () => {\n    history.push('/login?redirect=shipping')\n  }\n\n  return (\n    <Row>\n      {/* <Col md={8}> */}\n      {/* <h1>Shopping Cart</h1> */}\n        {cartItems.length === 0 ? (\n          // <Message>\n          //   No liked items <Link to='/'>Go Back</Link>\n          // </Message>\n          <ListGroup>\n            <h1>No liked items</h1>\n            <Link to='/'>Go Back</Link>\n\n          </ListGroup>\n          // <Row>\n          //   <Col md={60}>\n          //   <Message>\n          //     No liked items \n          //   </Message>\n          //   </Col>\n          // </Row>\n        ) : (\n          <ListGroup variant='flush'>\n            <h1>Items you liked</h1>\n            {cartItems.map((item) => (\n              <ListGroup.Item key={item.product}>\n                <Row>\n                  <Col md={2}>\n                    <Image src={item.image} alt={item.name} fluid rounded />\n                  </Col>\n                  <Col md={2}>\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\n                  </Col>\n                  {/* edited by me: price -> contact */}\n                  <Col md={2}>Contact : {item.contact}</Col>\n                  {/* <Col md={2}>Brand: {item.brand}</Col> */}\n                  <Col md={3}>Status : {item.countInStock === 0 ? (<span>Unavailable</span>):(<span>Available</span>)}</Col>\n                  {/* <Col md={2}>\n                    <Form.Control\n                      as='select'\n                      value={item.qty}\n                      onChange={(e) =>\n                        dispatch(\n                          addToCart(item.product, Number(e.target.value))\n                        )\n                      }\n                    >\n                      {[...Array(item.countInStock).keys()].map((x) => (\n                        <option key={x + 1} value={x + 1}>\n                          {x + 1}\n                        </option>\n                      ))}\n                    </Form.Control>\n                  </Col> */}\n                  \n                  <Col md={2}>\n                    <Button\n                      type='button'\n                      variant='light'\n                      onClick={() => removeFromCartHandler(item.product)}\n                    >\n                      <i className='fas fa-trash fa-2x'></i>\n                    </Button>\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n        )}\n      {/* </Col> */}\n      {/* <Col md={4}>\n        <Card>\n          <ListGroup variant='flush'>\n            <ListGroup.Item>\n              <h2>\n                Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})\n                items\n              </h2>\n              $\n              {cartItems\n                .reduce((acc, item) => acc + item.qty * item.contact, 0)\n                .toFixed(2)}\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Button\n                type='button'\n                className='btn-block'\n                disabled={cartItems.length === 0}\n                onClick={checkoutHandler}\n              >\n                Proceed To Checkout\n              </Button>\n            </ListGroup.Item>\n          </ListGroup>\n        </Card>\n      </Col> */}\n    </Row>\n  )\n}\n\nexport default CartScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}